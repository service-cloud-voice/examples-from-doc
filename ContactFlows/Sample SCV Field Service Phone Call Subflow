{"Version":"2019-10-30","StartAction":"08e362ca-c010-4272-b643-6925f3b17cdb","Metadata":{"entryPointPosition":{"x":15,"y":35},"snapToGrid":false,"ActionMetadata":{"586ec703-3927-408c-b213-9ab389c32ccf":{"position":{"x":393,"y":304}},"8e83d166-df26-47c5-94f4-e980c52714b2":{"position":{"x":912,"y":221},"useDynamic":false},"4062e0fc-77ce-47ca-a7dd-d04f822a3899":{"position":{"x":910,"y":15},"useDynamic":false},"d2d7cbe9-ec78-43ef-83a0-ab8320888523":{"position":{"x":1232,"y":325}},"05423e58-5e59-489c-a124-26df4e1c2fe4":{"position":{"x":628,"y":16},"conditionMetadata":[{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"ANONYMOUS","id":"94185536-bb7a-4b98-aa16-19e13f6cd4f7"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"PHONE_NOT_FOUND","id":"4915e4af-eb07-45d3-b61a-0c27d6f36715"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"TRANSFER_CALL","id":"4bbe7846-1296-49ab-9e3f-2d96e5e6ed9e"}]},"27e20751-e6ab-4f9e-9bd7-553b7ea79c7d":{"position":{"x":899,"y":426}},"2aa4daf5-02da-4660-9f69-42807b680f73":{"position":{"x":392,"y":15},"dynamicParams":["cusFirstName","cusLastName","status","engPhone","engFirstName","cusSalutation"]},"cc19fa18-fc18-4341-a4ee-2c494a88d00f":{"position":{"x":162,"y":269},"useDynamic":false},"08e362ca-c010-4272-b643-6925f3b17cdb":{"position":{"x":159,"y":15},"dynamicMetadata":{"methodName":false},"useDynamic":false}}},"Actions":[{"Identifier":"586ec703-3927-408c-b213-9ab389c32ccf","Type":"DisconnectParticipant","Parameters":{},"Transitions":{}},{"Identifier":"8e83d166-df26-47c5-94f4-e980c52714b2","Parameters":{"Text":"Hi. Thank you for calling. \nHowever, the technician's phone number is not available. Goodbye."},"Transitions":{"NextAction":"d2d7cbe9-ec78-43ef-83a0-ab8320888523","Errors":[{"NextAction":"d2d7cbe9-ec78-43ef-83a0-ab8320888523","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"MessageParticipant"},{"Identifier":"4062e0fc-77ce-47ca-a7dd-d04f822a3899","Parameters":{"Text":"We are sorry.\nYour phone number is anonymous.\nThus it cannot be handled by our contact center.\nGood bye."},"Transitions":{"NextAction":"d2d7cbe9-ec78-43ef-83a0-ab8320888523","Errors":[{"NextAction":"d2d7cbe9-ec78-43ef-83a0-ab8320888523","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"MessageParticipant"},{"Identifier":"d2d7cbe9-ec78-43ef-83a0-ab8320888523","Type":"DisconnectParticipant","Parameters":{},"Transitions":{}},{"Identifier":"05423e58-5e59-489c-a124-26df4e1c2fe4","Parameters":{"ComparisonValue":"$.Attributes.status"},"Transitions":{"NextAction":"586ec703-3927-408c-b213-9ab389c32ccf","Errors":[{"NextAction":"586ec703-3927-408c-b213-9ab389c32ccf","ErrorType":"NoMatchingCondition"}],"Conditions":[{"NextAction":"4062e0fc-77ce-47ca-a7dd-d04f822a3899","Condition":{"Operator":"Equals","Operands":["ANONYMOUS"]}},{"NextAction":"8e83d166-df26-47c5-94f4-e980c52714b2","Condition":{"Operator":"Equals","Operands":["PHONE_NOT_FOUND"]}},{"NextAction":"27e20751-e6ab-4f9e-9bd7-553b7ea79c7d","Condition":{"Operator":"Equals","Operands":["TRANSFER_CALL"]}}]},"Type":"Compare"},{"Identifier":"27e20751-e6ab-4f9e-9bd7-553b7ea79c7d","Parameters":{"ThirdPartyPhoneNumber":"$.Attributes.engPhone","ThirdPartyConnectionTimeLimitSeconds":"30","ContinueFlowExecution":"False"},"Transitions":{"NextAction":"d2d7cbe9-ec78-43ef-83a0-ab8320888523","Errors":[{"NextAction":"d2d7cbe9-ec78-43ef-83a0-ab8320888523","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"TransferParticipantToThirdParty"},{"Identifier":"2aa4daf5-02da-4660-9f69-42807b680f73","Parameters":{"Attributes":{"cusSalutation":"$.External.cusSalutation","cusLastName":"$.External.cusLastName","cusFirstName":"$.External.cusFirstName","engFirstName":"$.External.engFirstName","status":"$.External.status","engPhone":"$.External.engPhone"}},"Transitions":{"NextAction":"05423e58-5e59-489c-a124-26df4e1c2fe4","Errors":[{"NextAction":"586ec703-3927-408c-b213-9ab389c32ccf","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"UpdateContactAttributes"},{"Identifier":"cc19fa18-fc18-4341-a4ee-2c494a88d00f","Parameters":{"Text":"Hi.\nOur contact center is currently busy.\nPlease call again in a few minutes.\nThank you."},"Transitions":{"NextAction":"586ec703-3927-408c-b213-9ab389c32ccf","Errors":[{"NextAction":"586ec703-3927-408c-b213-9ab389c32ccf","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"MessageParticipant"},{"Identifier":"08e362ca-c010-4272-b643-6925f3b17cdb","Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:743287034962:function:HelloContactCenter1-InvokeSalesforceRestApiFunction:active","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"methodName":"SFSPhoneCallFlowQuery"}},"Transitions":{"NextAction":"2aa4daf5-02da-4660-9f69-42807b680f73","Errors":[{"NextAction":"cc19fa18-fc18-4341-a4ee-2c494a88d00f","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"InvokeLambdaFunction"}]}