{"Version":"2019-10-30","StartAction":"6a5e5d4a-96c1-4590-9af4-98f2fed75ecc","Metadata":{"entryPointPosition":{"x":33,"y":28},"snapToGrid":false,"ActionMetadata":{"5b15c13e-5475-43b5-a395-b0f4fb4234ac":{"position":{"x":1767,"y":17},"useDynamic":false},"809c177d-8e2e-45ab-9a2b-fe1d59975a16":{"position":{"x":2035,"y":17}},"bd8314c3-aff2-499e-a9d8-7cf7aacce79b":{"position":{"x":2291,"y":17},"useDynamic":false},"1b17452f-a511-41d7-bd13-fd8d8fd54221":{"position":{"x":2290,"y":250}},"b7e84b1a-2924-4682-895f-f7d2bba2891f":{"position":{"x":2550,"y":15},"useDynamic":false},"9d6d84f6-6c71-436e-b42e-333bb8d479e2":{"position":{"x":2554,"y":290}},"b07c9c7f-cec8-4e37-8836-1b79817406dc":{"position":{"x":711,"y":23},"dynamicMetadata":{"methodName":false},"useDynamic":false},"22be9ead-54a4-47e5-8947-55e750dd62f5":{"position":{"x":1503,"y":16},"useDynamic":false},"bc4445ac-1dd6-41a2-917b-2ed3a5c9899e":{"position":{"x":1760,"y":226},"useDynamic":false},"5edc975c-3342-4da7-b51b-0eca52fe1545":{"position":{"x":1499,"y":305}},"d5ab3b57-642f-49c9-accf-522f54f8ae6e":{"position":{"x":461,"y":274}},"2d8d4f53-badb-4b42-b2e8-4dce8034f12b":{"position":{"x":966,"y":22}},"fdf939ab-d240-4c23-a6f3-8ed528cd47b1":{"position":{"x":1234,"y":19}},"1a6b387d-0e8a-4615-b68c-e4b40bcbcfcc":{"position":{"x":2042,"y":475},"useDynamic":false},"d1c611c0-e78d-49f7-b3f8-04de11ae4228":{"position":{"x":459,"y":24},"useDynamic":false},"6a5e5d4a-96c1-4590-9af4-98f2fed75ecc":{"position":{"x":188,"y":25}}}},"Actions":[{"Identifier":"5b15c13e-5475-43b5-a395-b0f4fb4234ac","Parameters":{"Text":"Transferring you to the appropriate queue. One moment please."},"Transitions":{"NextAction":"809c177d-8e2e-45ab-9a2b-fe1d59975a16","Errors":[],"Conditions":[]},"Type":"MessageParticipant"},{"Identifier":"809c177d-8e2e-45ab-9a2b-fe1d59975a16","Parameters":{"RecordingBehavior":{"RecordedParticipants":["Agent","Customer"]}},"Transitions":{"NextAction":"bd8314c3-aff2-499e-a9d8-7cf7aacce79b","Errors":[],"Conditions":[]},"Type":"UpdateContactRecordingBehavior"},{"Identifier":"bd8314c3-aff2-499e-a9d8-7cf7aacce79b","Transitions":{"NextAction":"1b17452f-a511-41d7-bd13-fd8d8fd54221","Errors":[{"NextAction":"1b17452f-a511-41d7-bd13-fd8d8fd54221","ErrorType":"NoMatchingError"},{"NextAction":"b7e84b1a-2924-4682-895f-f7d2bba2891f","ErrorType":"QueueAtCapacity"}],"Conditions":[]},"Type":"TransferContactToQueue"},{"Identifier":"1b17452f-a511-41d7-bd13-fd8d8fd54221","Parameters":{"Attributes":{"error":"Failed to transfer to queue."}},"Transitions":{"NextAction":"1a6b387d-0e8a-4615-b68c-e4b40bcbcfcc","Errors":[{"NextAction":"1a6b387d-0e8a-4615-b68c-e4b40bcbcfcc","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"UpdateContactAttributes"},{"Identifier":"b7e84b1a-2924-4682-895f-f7d2bba2891f","Parameters":{"Text":"We are experiencing a higher than normal volume of calls and cannot currently assist you. Please try again later. We apologize for any inconvenience. Goodbye."},"Transitions":{"NextAction":"9d6d84f6-6c71-436e-b42e-333bb8d479e2","Errors":[],"Conditions":[]},"Type":"MessageParticipant"},{"Identifier":"9d6d84f6-6c71-436e-b42e-333bb8d479e2","Type":"DisconnectParticipant","Parameters":{},"Transitions":{}},{"Identifier":"b07c9c7f-cec8-4e37-8836-1b79817406dc","Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:589596482256:function:HVCC-InvokeTelephonyIntegrationApiFunction","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"methodName":"createTransferVC"}},"Transitions":{"NextAction":"2d8d4f53-badb-4b42-b2e8-4dce8034f12b","Errors":[{"NextAction":"d1c611c0-e78d-49f7-b3f8-04de11ae4228","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"InvokeLambdaFunction"},{"Identifier":"22be9ead-54a4-47e5-8947-55e750dd62f5","Parameters":{"MetricType":"NumberOfAgentsStaffed"},"Transitions":{"NextAction":"5edc975c-3342-4da7-b51b-0eca52fe1545","Errors":[{"NextAction":"5edc975c-3342-4da7-b51b-0eca52fe1545","ErrorType":"NoMatchingError"},{"NextAction":"1a6b387d-0e8a-4615-b68c-e4b40bcbcfcc","ErrorType":"NoMatchingCondition"}],"Conditions":[{"NextAction":"5b15c13e-5475-43b5-a395-b0f4fb4234ac","Condition":{"Operator":"NumberGreaterThan","Operands":["0"]}}]},"Type":"CheckMetricData"},{"Identifier":"bc4445ac-1dd6-41a2-917b-2ed3a5c9899e","Parameters":{"Text":"The department you are trying to reach is not currently open. Please try your call again later. Goodbye."},"Transitions":{"NextAction":"9d6d84f6-6c71-436e-b42e-333bb8d479e2","Errors":[],"Conditions":[]},"Type":"MessageParticipant"},{"Identifier":"5edc975c-3342-4da7-b51b-0eca52fe1545","Parameters":{"Attributes":{"error":"Failed to check queue status."}},"Transitions":{"NextAction":"bc4445ac-1dd6-41a2-917b-2ed3a5c9899e","Errors":[{"NextAction":"bc4445ac-1dd6-41a2-917b-2ed3a5c9899e","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"UpdateContactAttributes"},{"Identifier":"d5ab3b57-642f-49c9-accf-522f54f8ae6e","Parameters":{"Attributes":{"error":"VoiceCall record creation failed."}},"Transitions":{"NextAction":"fdf939ab-d240-4c23-a6f3-8ed528cd47b1","Errors":[{"NextAction":"fdf939ab-d240-4c23-a6f3-8ed528cd47b1","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"UpdateContactAttributes"},{"Identifier":"2d8d4f53-badb-4b42-b2e8-4dce8034f12b","Parameters":{"Attributes":{"voiceCallId":"$.External.voiceCallId"}},"Transitions":{"NextAction":"fdf939ab-d240-4c23-a6f3-8ed528cd47b1","Errors":[{"NextAction":"fdf939ab-d240-4c23-a6f3-8ed528cd47b1","ErrorType":"NoMatchingError"}],"Conditions":[]},"Type":"UpdateContactAttributes"},{"Identifier":"fdf939ab-d240-4c23-a6f3-8ed528cd47b1","Parameters":{},"Transitions":{"NextAction":"5edc975c-3342-4da7-b51b-0eca52fe1545","Errors":[{"NextAction":"5edc975c-3342-4da7-b51b-0eca52fe1545","ErrorType":"NoMatchingError"}],"Conditions":[{"NextAction":"22be9ead-54a4-47e5-8947-55e750dd62f5","Condition":{"Operator":"Equals","Operands":["True"]}},{"NextAction":"bc4445ac-1dd6-41a2-917b-2ed3a5c9899e","Condition":{"Operator":"Equals","Operands":["False"]}}]},"Type":"CheckHoursOfOperation"},{"Identifier":"1a6b387d-0e8a-4615-b68c-e4b40bcbcfcc","Parameters":{"Text":"No agents are available to take your call. Please try again at a later time. We apologize for the inconvenience. Goodbye."},"Transitions":{"NextAction":"9d6d84f6-6c71-436e-b42e-333bb8d479e2","Errors":[],"Conditions":[]},"Type":"MessageParticipant"},{"Identifier":"d1c611c0-e78d-49f7-b3f8-04de11ae4228","Parameters":{"LoopCount":"2"},"Transitions":{"NextAction":"d5ab3b57-642f-49c9-accf-522f54f8ae6e","Errors":[],"Conditions":[{"NextAction":"d5ab3b57-642f-49c9-accf-522f54f8ae6e","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}},{"NextAction":"b07c9c7f-cec8-4e37-8836-1b79817406dc","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}}]},"Type":"Loop"},{"Identifier":"6a5e5d4a-96c1-4590-9af4-98f2fed75ecc","Parameters":{"FlowLoggingBehavior":"Enabled"},"Transitions":{"NextAction":"d1c611c0-e78d-49f7-b3f8-04de11ae4228","Errors":[],"Conditions":[]},"Type":"UpdateFlowLoggingBehavior"}]}
